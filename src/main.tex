%
% LaTeX2e template for FIT2002
%


\documentclass[a4j,twocolumn]{ujarticle}
\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipdfmx]{color}
\usepackage{ascmac}
\usepackage{url}



\makeatletter
\def\section{\@startsection{section}{1}{\z@}{2ex plus .2ex minus .2ex}%
{.5ex plus .2ex minus .2ex}{\large\bfseries}}
\def\thesection{\arabic{section}.}
\def\subsection{\@startsection{subsection}{1}{\z@}{.7ex plus .2ex minus .2ex}%
{.5ex plus .2ex minus .2ex}{\normalsize\bfseries}}
\def\thesubsection{\arabic{section}.\arabic{subsection}}
\def\thefootnote{\fnsymbol{footnote}}
\makeatother


\def\baselinestretch{0.8}

\setlength{\textheight}{23.5cm}%297-30-27 - 5
\setlength{\textwidth}{17.4cm}%210-18-18 - 10
%\setlength{\headheight}{0.0in}
\setlength{\headsep}{0.0in}
\setlength{\oddsidemargin}{-.9cm}%+3
\setlength{\evensidemargin}{-.9cm}%+3
\setlength{\columnsep}{7mm}


% local settings

% end of local settings


\begin{document}
    \pagestyle{empty}
    \thispagestyle{empty}

    \twocolumn[%
        \begin{center}
        {\Large 2020年春学期 活動報告書}
            \vspace{.5ex}

            {\Large\sffamily }\vspace{1ex}



            \large
            \mbox{}
            \hfil
            \setcounter{footnote}{2}
            {\bfseries Sociable Robots B1 澤田 開杜(sabaniki)}${}^\thefootnote$
            \hfil
            \setcounter{footnote}{3}
            \hfil
            \mbox{}

            \mbox{}
            \hfil
            {\sffamily}
            \hfil
            {\sffamily}
            \hfil
            \mbox{}
            \hfil

        \end{center}
    ]

    \setcounter{footnote}{2}
    \footnotetext{慶應義塾大学　環境情報学部}

\section{概要}
私が今学期製作した4つのプロダクトについて報告する。4つのプロダクトとは以下の表\ref{ProductsSem}に示した通りである。
毎月別のプロダクトに着手し、そのうち2つについては現在も開発を積極的に続けている。

\begin{table}[h]
    \caption{今学期製作したもの一覧}
    \label{ProductsSem}
    \centering
    \begin{tabular}{lcr}
        \hline
        着手時期 & 名前 \\
        \hline \hline
        4月 & ARplusR \\
        5月 & MTG-Shuffle \\
        6月〜 & IoT-Fam \\
        7月〜 & Over-Comment \\
        \hline
    \end{tabular}
\end{table}

\section{ARplusR}
\subsection{概要}
プロダクトの名前のARplusRとはAR+Robotを意味している。ARとロボットの組み合わせに興味が湧いたため、
プロトタイプとして、ARの入門も兼ねて作成したものである。
今回は実物のロボットを使わずに、ロボットも仮のものをAR上のオブジェクトで作成した。

\subsection{実装した機能}
以下に図\ref{ARRobotImage}として実際のアプリケーションのスクリーンショットを示す。
平面をアプリケーション上で検知し、その面に対して障害物に見立てた灰色の立方体を設置することができる。
すると、ロボットに見立てた黄色の立方体がその障害物を避けて前進するというものである。

\begin{figure}[h]
\centering
\includegraphics[width=3cm]{../assets/AR-Robot.jpg}
\caption{実際に作ったARアプリ}
\label{ARRobotImage}
\end{figure}

\subsection{展望}
今回は元々「ARを使うことで人間は視覚的にロボットに対して仮想的な情報を与えられる」
という部分に興味を持って取り組んだものだったが、
その特性を用いて具体的なプロトタイプを製作することはできなかった。
ロボットの進行方向をAR上で指示したり逆にロボットに侵入されたくない場所を指定するなどの案は出たが、
現実的に実装できる設計を考案することができなかった。
ARに興味がなくなったわけではなく、Apple Glassなどの現在開発が進んでいるような新しいデバイスにも興味があるため、
今後も新しい情報は追いかけるつもりである。

\section{MTG-Shuffle}
\subsection{概要}
弊研究会では毎週火曜日に進捗報告とその週の目標を決めるグループ別のミーティングが行われる。
そのグループは院生をリーダとしてそこに均等になるように学部生が分かれるという形式であるが、
毎週のグループ分けが面倒であるという点があった。その問題を解決するべく、新人課題として取り組んだ。

\subsection{実装した機能}
以下に図\ref{MtgShuffleImage}としてアプリケーションのスクリーンショットを示す。
この図の通り、ランダムにグループを分ける機能と、それを閲覧可能にする機能を実装している。
また、ランダムにグループを分けるアルゴリズムは
院生や学部生の数の変化に依存しない仕組みになっている。
グループのリセットは一日に一度、誰か一人が行うことができる。
リセット限度を一日一度にしているため、
複数人がグループをリセットしてしまうことによる混乱が生じないよう工夫している。

\begin{figure}[h]
\centering
\includegraphics[width=5cm]{../assets/MTG-Shuffle.jpg}
\caption{MTG-Shuffle}
\label{MtgShuffleImage}
\end{figure}

\subsection{展望}
人数に依存しないアルゴリズムを考案するよりも前に
欠席者を除外してグループを作成する機能をつけるべきであったが、それがまだ実装されていない。
またメンバーのCRUD処理もRead以外は実装されておらず、他は仮のボタンが設置されているだけであるため
早急に実装する必要がある。更に完全にランダムにすると同じ人と当たりやすく感じることが
わかったため、同じ人と連続で当たりにくくなるようなアルゴリズムを考案し、実装することも検討している。

\section{IoT-Fam}
\subsection{概要}
最終的な完成形としては以下に図\ref{IoTFam}として示した通りである。
実際にはAPIやライブラリの豊富さからSlackを採用したが、構図としては家族LINEにIoTが参加し、
そこでのIoT同士の会話の中に人間が参加するというものである。
今現在のAlexaやGoogleHomeなどの中心的な存在があり、そこに対して人間が指示を出すと
各IoTが受動的で無機質にタスクをこなすという状態に対して私は疑問を感じたため製作を始めた。
\begin{figure}[h]
\centering
\includegraphics[width=5cm]{../assets/IoT-Fam.jpg}
\caption{IoT-Fam}
\label{IoTFam}
\end{figure}

\subsection{システム構成}
簡略的なシステム構成図を以下に図\ref{IoTFamSys}として示す。
中継サーバ(Raspberry Pi)を通してIoT(ESP)同士はJSON形式の情報をMQTT通信でやり取りし、
また、そのJSONデータは中継サーバ上で人間の会話に変換されSlackに送信される。
逆に人間の言葉からJSONを生成しESPとやり取りするアプリケーションもRaspberry Pi上で動作している。
JSON→会話の生成や会話→JSON生成については本格的な会話システムで処理しているわけではなく、
いわゆるif-thenの単純な仕組みで生成している。

\begin{figure}[h]
\centering
\includegraphics[width=8cm]{../assets/sys-strc.jpg}
\caption{IoT-Famシステム構成}
\label{IoTFamSys}
\end{figure}

\subsection{IoT部分}
今学期では図\ref{IoTFam}で示したシチュエーションを満たすために温度計デバイス、エアコン制御デバイス
を作成した。

\subsubsection{温度計}
温度計デバイスの実物の画像を以下に図\ref{TempImage}として示す。
湿度も取得可能なセンシングモジュールを採用したため、温度だけでなく当初は計測予定でなかった湿度も
取得可能となった。値を取得しMQTT通信で送信することは可能だが、接続が不安定になることが多々ある。
専用のソケットの代わりにジャンパワイヤで強引に接続していることが原因であると考えられる。

\begin{figure}[h]
\centering
\includegraphics[width=5cm]{../assets/temp.JPG}
\caption{温度計デバイス}
\label{TempImage}
\end{figure}

\subsubsection{エアコン}
エアコン制御デバイスの実物の画像を以下に図\ref{AirConImage}として示す。
このデバイスを使用し、私の部屋に設置されているエアコンを起動させることができた。インターネット上で私の部屋のエアコンのリモコンと対応する
赤外線信号の情報を見つけることはできなかったため、起動するために手元でリモコンの信号の解析を行った。
無線での操作を実現できたものの、赤外線LEDの指向角や放射強度について深く考えずに購入
してしまったために角度を調整したり近づけたりしないと現状ではうまく起動させることができないという反省点が残った。
また、仮に起動のみを行いたい場合でもリモコンから送られる信号には温度や風量の情報も含まれており、
信号のどの部分が温度にあたりどの部分が風量に当たるかなどの解析はできていないため、解析は部分的にしか
実現していない。

\begin{figure}[h]
\centering
\includegraphics[width=5cm]{../assets/AirCon.JPG}
\caption{エアコン制御デバイス}
\label{AirConImage}
\end{figure}

\subsection{展望}
今学期では図\ref{IoTFam}で示したシチュエーションを実現することはできたが、
このシチュエーションのみしか実装できなかったため、当初の”IoT同士の会話の中に参加する”という感覚を
得ることはできなかった。また、擬人化してある部分が特徴の一つであるプロジェクトだが、私自身が
あまり擬人化してあることに意味を感じなかった。しかし、IoTデバイス同士のやりとりに参加するという部分は
各デバイスが持っている情報を人間が確認しやすく利便性があると個人的に感じたため、その部分をより生かして
いきたい。現在はTwitterのように各デバイスが自分の持っている情報を発信するようなSNSのようなシステムから人間が家の中の状態を知る
という携帯も面白いのではないかと考えている。しかし、これもまた「装飾された情報よりも無機質な情報のほうが把握・操作しやすい」という
今回自分が感じた問題点を克服できないため再考が必要であると考えている。

\section{Over-Comment}
\subsection{概要}
このプロジェクトはZoomやWebex上でニコニコ動画のようなコメントシステムを再現するというものである。
ZoomやWebexでのコメントは通知が控えめで気が付きにくく、送信者側も相手に届いてるいるという確証を
持ちにくいと私は感じた。ニコニコ動画のようなコメントシステムなら、追いきれない程の量でなければ
コメントが目に入らないということは少ないと考え、この形式を採用した。今回はコメントを表示する
デスクトップアプリケーション、コメントの送信や履歴の閲覧などを行うためのWebアプリケーション
の二つを作成した。

\subsection{システム構成}
以下に図\ref{sys-strc-oc}として簡略的なシステム構成図を示す。Webアプリケーション部分はAngularを用いて開発し、Firebase上で
ホスティングしている。Webアプリケーション部分でコメントをデータベース(Firebase Realtime Database)に送信すると、
そのデータベースの変更を検知してデスクトップアプリケーション側でコメントを受け取るという仕組みになっている。また、Webアプリケーション
のコメントの履歴機能についても同じ様にデータベースの変更を検知し、リアルタイムに履歴が反映されるようになっている。

\begin{figure}[h]
\centering
\includegraphics[width=8cm]{../assets/sys-strc-oc.jpg}
\caption{Over-Commentシステム構成}
\label{sys-strc-oc}
\end{figure}

\subsection{実装した機能}

\subsubsection{デスクトップアプリケーション}
以下に図\ref{dsk-app}として実際にデスクトップアプリケーションが稼働している様子を示す。
利便性を考え、このアプリケーションはOSに依存せず実行可能なElectronで作成した。
透明でマウスイベントを無視するウィンドウ上にコメントを右から左に流すようになっているため、
ZoomやWebexなどの他のアプリケーションにオーバーラップしつつ、その別のアプリケーションを操作することができる。
受け取ったコメントは一度キューに保存し1秒ごとにデキューして表示することで、一度に多くのコメントが投稿された際に
処理が上がりすぎないようにしている。 マウスイベントを無視する仕様にしている関係上このアプリケーションに機能を多くもたせると操作しにくい
と考え、多くをWebアプリケーションに担わせる設計とした。

\begin{figure}[h]
\centering
\includegraphics[width=5cm]{../assets/dsk-app.jpg}
\caption{デスクトップアプリケーション}
\label{dsk-app}
\end{figure}

\subsubsection{Webアプリケーション}
以下に図\ref{web-app}としてWebアプリケーションのスクリーンショットを示す。
このWebアプリケーションはAngularで作成した。単にコメントを送信できるだけでなく、コメントの色やフォントサイズを変えられたり
履歴を確認したりすることができる。また、コメントシステムだけでなくアンケートを実施することもできる。また、簡単にリアクションを送れる
方法としてwwwと書かれたボタンとcrapと書かれたボタンを実装した。wwwと書かれたボタンは押すと笑いを意味するwwwというコメントを送信する
ことができ、crapと書かれたボタンは押すと拍手を意味する88888888というコメントが送信される。このcrapに関しては単にコメントが流れる
だけでなく拍手の音も再生される。自分が発表を行った際に相手のリアクションがわかりにくかったり逆に聞く方もオフライン時のような音を伴った
リアクションを送りにくいという点が問題だと感じたためこの機能を実装した。また、このアプリケーションはウィンドウを小さくして使用する
ことを想定しており、特にスマートフォンからの操作を意識して作成した。特に笑いや拍手をスマホを片手にリモコン感覚で送信してもらう
シチュエーションを想定していたが、実際は自分を含めてパソコンだけで使う人が多い印象を感じた。

\begin{figure}[h]
\centering
\includegraphics[width=3cm]{../assets/web-app.jpg}
\caption{Webアプリケーション}
\label{web-app}
\end{figure}

\subsection{展望}
このプロジェクトに似ているものとして、Comment Screen\cite{sincho}。今現在ではこのプロジェクトの下位互換的な存在となってしまっているが、
これは主イベントを盛り上げることを第一として作られているのに対して、私のOver-Commentはカジュアルなオンライン会議において便利だったり
議論を活発化できるような存在を目指している。なので今後は話題ごとにトピックを設定し、それごとにコメントをまとめられる機能や議論が活発だった
時間帯をグラフ化したりといった機能を実装していきたい。また、今現在ではこのアプリケーションは弊研究会内のみの使用を想定して製作しているが、
これを誰でも使える仕組みを整えることも検討している。

\bibliographystyle{junsrt}
\bibliography{bib.bib}

\section{今学期の反省点}
今学期は手を動かして様々な分野に触れながら何かを作るという目標は達成することができた。
しかし、論文を読み込んだり他の企業や団体が作っているサービスを調査したりといったことは不十分だった。
着手する前に先行研究やサービスがあるかを調べることはあったが、近い領域の研究やサービスを広く調べるようなことはなく、開発に注視し過ぎてしまった。
そのため、自分の中で立てた”今後の指針を決め、それに関する研究領域を調査する”という目標は達成することができなかった。

\section{夏休み・来学期の目標}
今学期の反省点として先行研究・サービスのサーベイ不足が挙げられるので改善したい。特に現在はIoTについての興味が最も強いが
その分野に対する知識が不足しているため、夏休み中は週に1つ論文を見つけ少しずつ読みこむことを目標とする。
また自分の興味領域的に複数の機器からなるシステムを構成する知識は必要だが、その知識が浅いため関連図書を購入し学習し、
知識を入れるだけではなく、今学期意識した手を動かすことも意識して続けていく。

\begin{thebibliography}{99}
なし
%\bibitem{sincho} 太宰治、『走れメロス』、新潮（1940年5月号）
%\bibitem{chikuma} 太宰治、太宰治全集3（ちくま文庫）、筑摩書房(1988).
%\bibitem{schiller} Friedrich von Schiller, バラード¥textit{de:Die B¥"{u}rgschaft}, 1815.
\end{thebibliography}

\end{document}
